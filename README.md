# Инструмент командной строки для учебного конфигурационного языка

## 1. Общее описание
Этот проект реализует инструмент командной строки для учебного конфигурационного языка. 
Он принимает входной файл и преобразует его в формат TOML, выявляя синтаксические ошибки.

## 2. Описание всех функций и настроек

### Основные файлы:
- `main.py` — точка входа для CLI, обрабатывает аргументы командной строки и выполняет преобразование
- `config_parser.py` — модуль для разбора учебного конфигурационного языка с использованием Lark
- `tests/test_parser.py` — модуль тестирования всех конструкций языка

### Поддерживаемые конструкции языка:
- **Многострочные комментарии**: `(* комментарий *)`
- **Числа**: целые и десятичные (например, `123`, `123.45`)
- **Строки**: в двойных кавычках с поддержкой escape-последовательностей (например, `"строка"`)
- **Массивы**: начинаются с одинарной кавычки и скобки `'( значение значение ... )`
- **Имена констант**: только строчные буквы, цифры и подчеркивания (например, `my_const`, `value_123`)
- **Объявление константы**: `имя: значение`
- **Вычисление константы**: `@{имя}`

## 3. Описание команд для сборки проекта и запуска тестов

### Установка зависимостей:
```bash
pip install lark toml pytest
```

### Запуск программы:
```bash
python main.py --input input.cfg --output output.toml
```

или с короткими ключами:
```bash
python main.py -i input.cfg -o output.toml
```

### Запуск тестов:
```bash
pytest tests/test_parser.py -v
```

### Примеры использования:
В папке `examples/` находятся три примера конфигураций из разных предметных областей:
- `web_server.cfg` — конфигурация веб-сервера
- `database.cfg` — конфигурация базы данных
- `game_settings.cfg` — игровые настройки

Пример преобразования:
```bash
python main.py -i examples/web_server.cfg -o web_server.toml
```

## 4. Обработка ошибок
Программа выводит понятные сообщения об ошибках:
- Синтаксические ошибки парсинга
- Ошибки неопределенных констант
- Ошибки отсутствующих файлов
